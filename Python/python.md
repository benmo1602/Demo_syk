# python 学习记录

## 学习来源
https://www.liaoxuefeng.com/wiki/1016959663602400 ( python 教程-廖雪峰)

## 编程风格
1. 单个语句结尾不需要以分号 `;` 结尾，如： ```print('hello python')```
2. 通常每行只写一个语句，如果一行存在多个语句，则语句之间用分号 `;` 分隔，如：```name='python';print('hello',name)```
3. `python` 代码采用 `缩进方式` 来表示语句块，并不像其他编程语言那样采用花括号 `{}` 来表示语句块，所以最好每一行只写一个语句。当语句以冒号 `:` 结尾时，其下缩进的语句处于同一个语句块，所以一定要注意缩进。
4. `python` 中没有花括号 `{}` （源于作者不喜欢），小括号 `()` 仅在表示方法执行时使用，像 `if` 条件语句的条件都是直接在 `if` 后隔一个空格就写的 
5. 缩进最好为 `4` 个空格，看着比较清晰，推荐
6. 代码中的注释用 `#` 开头，如：
```
#!/usr/bin/env python3 
#表示告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释

#-*- coding: utf-8 -*-
#表示 UTF-8 编码
``` 

## 输出与输入
1. 输出（`print`）:可以输出任意表达式的结果，同时可接收多个参数，输出时，用空格分隔，连成一串。如：```print('hello','world')```结果为：`hello world`
2. 输入（`input`）: `python` 提供了`input()`方法，用来接收用户输入，当 `input()` 方法执行时，`python` 会等待用户输入，用户输入并按回车表示输入结束后，`python` 会将输入的内容作为 `input()` 的返回值
3. 将输入存储，并输入，如：
```name=input();print(name)```

## 数据类型
`python` 不仅可以处理简单的数值、字符，还可以处理文本、图形、音频、视频、网页等各种各样的数据。不同的数据，就需要定义不同的数据类型。而如下几种可以直接处理，不需要指定类型。
1. 整数： `python` 可以处理任意大小正负的整数，通常用十进制，如 `10` 表示，也可以用十六进制等其他进制表示，如 `0xa`
2. 浮点数： 即小数，由于在计算机中存储方式的问题，导致计算上会有误差，如 `0.05+0.01` 的结果为 `0.060000000000000005`。而整数则不会存在计算误差，无论乘法还是除法。
3. 字符串：字符串是用英文的单引号 `'` 或 双引号 `"` 括起来的文本。
4. 布尔值：只有 `True` 和 `False` 两个值，注意开头字母大写。布尔值可以进行 `and` 、 `or` 、`not` 运算
5. 空值：只有 `None` 一个值，类似 `js` 中的 `null` 。

## 变量
1. `python` 中的变量在声明时，不需要指定类型，属于动态语言。即一个变量可以为任意类型的值。
2. 变量的名称由字母、数字和下划线 `_` 组成，不能以数字开头。
3. `python` 中变量的赋值，与其他语言不同，其他语言是直接修改变量所对应的值，而 `python` 是先创建一个新的值，然后将变量指向新的值，原值没有改变。
4. `python` 中的常量也是变量，只是通常用全大写字母来表示常量。

## 字符串 str
1. 字符串在 `python` 中存在很多特殊处理。单引号和双引号不可混用，如果要在字符串中表示特殊的字符，需要用转移字符 `\` 进行转义。
2. `python` 允许用 `r'字符串'` 的形式表示字符串内的字符都不转义，但 `print(r'\t\')` 是会报错的，因为编译问题，如果字符最后是奇数个 `\` ，会导致字符串识别出现问题。
3. `python` 允许用 `'''字符串'''` 的形式表示字符串内的字符可以换行写，并且展示时也是换行的，所以 `'`、`"` 、 `'''` 三者不能混用。
4. `python` 中字符是 `unicode` 编码的，可以通过 `ord()` 方法获取字符的编码的整数表示， `chr()` 方法转换编码为字符
5. 一个字符可以对应多个字节，`unicode` 表示的字符可以通过 `encode()` 方法转换为字节，如 `'ABC'.encode('ascii')` 得到 `b'ABC'`。
6. 用 `b` 开头 `bytes` 类型的数据，表示字节串。 通过 `decode()` 可以将字节转换为字符。
7. `encode()` 将字符串转为字节串，`decode()` 将字节串转为字符串。
8. 用 `len()` 方法获取字符串的字符个数，如 `len('中文')` 得到 `2`
9. 用 `len()` 方法获取字节串的字节个数，如 `len('中文'.encode('utf-8'))` 得到 `6`
10. 字符串格式化（字符串模板）：用 `%` 运算符实现，如：
```
# 单个参数，可以不写小括号
'Hello, %s' % 'world'

# 多个参数放到小括号里
'Hi, %s, you have $%d.' % ('Michael', 1000000)

# 如果要表示 % ,则需转义，写成 %%
'%.1f%%' % 17.21
```

| 占位符 |替换内容 | 备注 |
| ------ |---------|-----|
| %d     | 整数    |     |
| %f     | 浮点数  | %.1f 表示保留 1 个小数位 |
| %s     | 字符串  |     |
| %x     | 十六进制整数|  |

11. 字符串格式化还可以用 `format()` 方法，如：
```
'Hello, {0}, 成绩提升了 {1:.1f}%'.format('小明', 17.125)
````

## 列表 list
1. 列表 `list` 是 `python` 内置的数据类型，代表有序列表，可以随意添加删除其中的元素。元素类型任意。
```
list=['a','b','c'];
```
2. 用 `len()` 方法获取列表长度
```

len(list) # 3 
```
3. `list` 的索引从 `0` 开始，访问越界会报错，同时可以通过负数，倒序访问。
```
list[0] # 'a'
list[-1] # 'c'
list[4] # IndexError: list index out of range
```
4. 用 `append()` 追加元素
```
list.append('d')
```
5. 用 `insert()` 插入元素到指定位置
```
list.append(1,'e')
```
6. 用 `pop()` 删除末尾或指定位置的元素
```
list.pop() # 删除末尾元素
list.pop(1)
```

## 元组 tuple
1. 元组 `tuple` 与列表 `list` 类似，只是不可修改，每个元素的指向不变。
2. 定义元组时，如下：
```
t = () # 空元组
t = (1,) # 为了与 (1) 表示计算区分，需要多加个逗号
```

## 条件判断 if elif else
1. 基本语句结构：
```
age = 3
if age >= 18:
    print('adult')
elif age >= 6:
    print('teenager')
else:
    print('kid')
```
2. `if` 的条件如果非零数值、非空字符串、非空list，则为 `True`，否则为 `False`

## 循环 for...in 和 while
1. `for...in` 循环，如：`range()` 可以生成从 0 开始的有序数字列表
```
sum = 0
for x in range(101): # 生成 0-100 的整数列表
    sum = sum + x
print(sum)
```
2. `while` 循环，如：
```
sum = 0
n = 99
while n > 0:
    sum = sum + n
    n = n - 2
print(sum)
```
3. `break` 可以终止循环
4. `continue` 可以跳过当前循环，开始下次循环

## 字典 dict
1. 字典 `dict` 类似 `Java` 中的 `map`, 存储键值对，也类似 `js` 的对象
```
d = {'Michael': 95, 'Bob': 75, 'Tracy': 85}
```
2. 访问不存在的键，会报错，所以用 `in` 判断是否存在
```
if 'Bob' in d:
    print(d['Bob'])
```
3. 用 `get()` 方法访问键，键不存在时会返回 `None`，或者设置默认值
```
d.get('Tom') # None
d.get('Tom',10) # 没有时，指定为 10
```
4. 用 `pop()` 方法删除键
```
d.pop('Bob')
```
5. 给 `dict` 的键赋值时，如果键存在，则改变，否则添加
```
d['Tom']=10
```

## 集合 set
1. `set` 与 `list` 类似，只是其中元素不可重复
```
s = set([1, 2, 3])
```
2. 用 `add()` 添加元素
```
s.add(4)
```
3. 用 `remove()` 移除元素
```
s.remove(1)
```
4. 访问 `set` 中的元素时，必须先转为 `list`
```
l=list(s)
l[0] # 1
```